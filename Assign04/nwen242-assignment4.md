% NWEN242 Assingment 4
% David Barnett (300313764)

# Q1

## A

4

## B

`I` and `J` exhibit temporal locality as they are used frequently during the loop.

## C

`A` and `B` exhibit spatial locality as memory in their immediate area in memory are accessed.


# Q2

## A

32bit memory address with 16 1 word sized blocks.

+--------------+------------------+---------------+-----------------+----------+
| Word Address | Binary Address   | Tag (decimal) | Index (decimal) | Hit/Miss |
+==============+==================+===============+=================+==========+
| 3            | 0000000000001100 | 0             | 3               | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 180          | 0000001011010000 | 22            | 4               | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 43           | 0000000010101100 | 5             | 11              | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 2            | 0000000000001000 | 0             | 2               | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 191          | 0000001011111100 | 23            | 15              | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 88           | 0000000101100000 | 11            | 8               | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 190          | 0000001011111000 | 23            | 14              | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 14           | 0000000000111000 | 1             | 14              | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 181          | 0000001011010100 | 22            | 5               | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 44           | 0000000010110000 | 5             | 12              | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 186          | 0000001011101000 | 23            | 10              | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 253          | 0000001111110100 | 31            | 13              | Miss     |
+--------------+-------------------+---------------+-----------------+----------+

> Note: bits 32 to 17 are omitted due to all being zero

## B

32bit memory address with 8 2 word sized blocks.

+--------------+------------------+---------------+-----------------+----------+
| Word Address | Binary Address   | Tag (decimal) | Index (decimal) | Hit/Miss |
+==============+==================+===============+=================+==========+
| 3            | 0000000000001100 | 0             | 1               | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 180          | 0000001011010000 | 22            | 2               | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 43           | 0000000010101100 | 5             | 5               | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 2            | 0000000000001000 | 0             | 1               | Hit      |
+--------------+------------------+---------------+-----------------+----------+
| 191          | 0000001011111100 | 23            | 7               | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 88           | 0000000101100000 | 11            | 4               | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 190          | 0000001011111000 | 23            | 7               | Hit      |
+--------------+------------------+---------------+-----------------+----------+
| 14           | 0000000000111000 | 1             | 7               | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 181          | 0000001011010100 | 22            | 2               | Hit      |
+--------------+------------------+---------------+-----------------+----------+
| 44           | 0000000010110000 | 5             | 6               | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 186          | 0000001011101000 | 23            | 5               | Miss     |
+--------------+------------------+---------------+-----------------+----------+
| 253          | 0000001111110100 | 31            | 6               | Miss     |
+--------------+-------------------+---------------+-----------------+----------+

## C

## D


# Q3

## A

The cache block size is the number of bytes or words that can be stored in each entry of the cache. In this case the block size is 8 words or 32 bytes.

## B

The cache has 32 cache entries

## C

The required bits for cache allocation are 21 bits are needed for the tag and 1 bit for a valid flag.
The number of data bits is $32*8 = 256 bits$.

The ratio is $\frac{22}{256} = 11:128$ cache bits to data bits

# Q4

## A

$$P1_{AMAT} = 0.92*0.66 + 0.08*70 = 6.21ns (2.d.p)$$

$$P2_{AMAT} = 0.94*0.90 + 0.06*70 = 5.05ns (2.d.p)$$

## B

$$P1_{AMAT} = 0.92*0.66 + (0.08*0.05)*5.62 + (0.08*0.95)*70 = 5.95ns (2.d.p)$$

## C

$$
P1_{AMAT} = 0.92*0.66 + (0.08*(1-x))*5.62 + (0.08*x)*70 = 5.31ns$$

$$0.6072 + 0.4496 - 0.4496x + 5.6x = 5.31ns$$

$$1.0568 + 5.1504x = 5.31ns$$

$$x = \frac{4.2532}{5.1504} = 0.825799938\ or\ 82.58\% (2.d.p)$$


# Q5

Word Address | Binary Address | Tag Index | Hit/Miss | Block0 / Way0 | Block1 / Way1 | Block2 / Way2
3            |                |           |          |               |               |
180          |                |           |          |               |               |
2            |                |           |          |               |               |
191          |                |           |          |               |               |
14           |                |           |          |               |               |
31           |                |           |          |               |               |
190          |                |           |          |               |               |
158          |                |           |          |               |               |
