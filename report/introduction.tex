\chapter{Introduction}\label{C:intro}
\comment{
The purpose here is to introduce the problem being solved,  to motivate \\
why it is a problem one should care about, and to outline the solution developed \\
during the project. \\


Remember:  the introduction is the first part of the report an examiner will read. \\


If he/she finishes reading it without a proper understanding of the \\
problem being solved or what has been done, then they will almost certainly  \\
struggle with understanding the remainder.  You should attempt to make the project goals \\
and associated specifications as clear and as quantifiable as possible. These goals and \\
specifications should inform everything else that follows, so it is important to establish \\
them in the examiners mind. \\

Should cover \\
* motivation of problem \\
* context of the problem \\
* explain why it is interesting \\
* hint at how the this project solves it \\
* overview   of how it unfolds
}

% outline
Whiley is a programming language that can be used for formal software
verification \cite{whiley-origin}.
One aspect of formal software verification is providing loop
invariants.
Some loop invariants are common for verified software and become a burden to
provide the same loop invariant repetitively \cite{whiley-reflection}\cite{spec-usability}.
The primary goal of this project is to relieve some proof obligations from a
Whiley programmer by automatically providing some simple loop invariants.
Instead the loop invariants are generated by the Whiley Compiler itself.
This project does not attempt to generate loop invariants generally, as it is
known to be uncomputable, but generates invariants for specific common cases.

\section{Motivation}

% Why
The motivation of this project is to make Whiley more usable in practise.
Loop invariants are a common pain point for users of formally verified
languages.
There are simple loop invariants that are repetitive and are a chore to
always provide them.
These include the simple index into an array and other invariants that
are obvious to the reader on inspection but still are required to be
provided by the programmer.
With this project some of this pain is alleviated by generating some of the simple
and repetitive loop invariants.

\section{Solution}

% brief overview of solution
The solution this project provides to this problem is an extension to
the Whiley Compiler to generate simple loop invariants.
This includes the identification of simple loop invariants and being able
to generate a loop invariant from the source code of a Whiley program.
Since the Whiley Compiler is an open source project this project will be
hosted in a fork of compiler.

% 'simple'
The definition of a simple loop invariants for this project is an invariant that is
obvious at inspection that an invariant both exists and would hold.
An example would be that while iterating through an array the index
will not go out of bounds of the array, such as figure~\ref{lst:whiley-ex-1}.
The purpose of having a definition of an simple invariant is to prevent
possible confusion when what looks to be unproven code is verified and to point
the scope of the project away from being too general, such as supporting
a rare scenarios such as indexing an array with a polynomial formula.
This leaves the more interesting invariants for the user to define.

\begin{figure}[ht]
\begin{lstlisting}
function indexOf (int[] items, int item) -> (int r)
ensures r == |items| || items[r] == item:

    int i = 0

    while i < |items|
      where i >= 0 && i <= |items|:

        if items[i] == item:
            break
        i = i + 1

    return i
\end{lstlisting}
\caption{Verifiable Whiley code to find index of an item in an array}
\label{lst:whiley-ex-1}
\end{figure}

% loop patterns
These simple loop invariants are a product of common design patterns in loops.
For this report the idea of loop patterns are introduced and are akin to
software architecture design patterns on a more mechanical level.
From studying a known loop pattern properties can be derived from it.
Such as figure~\ref{lst:whiley-ex-1} that has a common loop pattern of
iterating an array via an index variable.
From this pattern you know that that during the loop that the index will be
within bounds of the array.
This can be exploited by statically detecting the loop patterns and assisting
the Whiley Compiler by generating loop invariants.

\section{Overview}

This report is broken up into 7 chapters with each chapter detailing a separate part of the project.
Chapter~\ref{C:background} explains the background research, concepts and related work to this report.
Chapter~\ref{C:design} discusses the design limitation, goals and choices that went into designing the
solution for this project.
Chapter~\ref{C:impl} provides the details of the mechanisms behind the implemented 
loop invariant generators including their backing loop patterns, examples of application and limitation.
Chapter~\ref{C:eval} details of the experiment carried out with this project to determine if it is
successful, including the tool and data sets used. \todo{Ensure this reflects
if we got the SWEN224 data set}
Chapter~\ref{C:con} \todo{fill in what the conclusion will have}
This is then ended with Chapter~\ref{C:future} which outlines future work from the results of this project.
